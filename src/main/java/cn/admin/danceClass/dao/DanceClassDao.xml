<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="danceClassDao">
	
	<!-- 查询所有课程 -->
	<select id="selAllClass" resultType="hashmap">
		select * from danceclass 
		order by createTime ASC
	</select>
	
	<!-- 修改课程表信息 -->
	<update id="updClassData" parameterType="hashmap">
		update danceclass set 
		<if test="danceTime!=null and danceTime!='' ">
			danceTime=#{danceTime}
		</if>
		<if test="monday!=null and monday!='' ">
			monday=#{monday}
		</if>
		<if test="tuesday!=null and tuesday!='' ">
			tuesday=#{tuesday}
		</if>
		<if test="wednesday!=null and wednesday!='' ">
			wednesday=#{wednesday}
		</if>
		<if test="thursday!=null and thursday!='' ">
			thursday=#{thursday}
		</if>
		<if test="friday!=null and friday!='' ">
			friday=#{friday}
		</if>
		<if test="saturday!=null and saturday!='' ">
			saturday=#{saturday}
		</if>
		<if test="sunday!=null and sunday!='' ">
			sunday=#{sunday}
		</if>
		where Id=#{classId}
	</update>
	<!-- 添加课程信息 -->
	<insert id="addClassData" parameterType="hashmap" useGeneratedKeys="true" keyProperty="classId" >
		insert into danceclass (createTime) values (#{createTime})
	</insert>	

	<!-- 删除课程信息 -->
	<delete id="delClass" parameterType="hashmap">
		delete from danceclass where 
		<if test="classId!=0">
			Id=#{classId}
		</if>
		<if test="classId==0">
			Id!=0
		</if>
	</delete>
	
	<!-- 查询价格信息 -->
	<select id="selPriceInfo" resultType="hashmap">
		select * from classprice where Id!=0
	</select>
	<!-- 保存价格信息 -->
	<insert id="selisHaveInfo" parameterType="hashmap">
		insert into classprice (address,
		jidu,<if test="jiduActivity!=null and jiduActivity!=''">jiduActivity,</if>jiduHour,jiduGift,
		bannian,<if test="bannianActivity!=null and bannianActivity!=''">bannianActivity,</if>bannianHour,bannianGift,
		years,<if test="yearActivity!=null and yearActivity!=''">yearActivity,</if>yearHour,yearGift,isActivity) 
		values (#{address},
		#{jidu},<if test="jiduActivity!=null and jiduActivity!=''">#{jiduActivity},</if>#{jiduHour},#{jiduGift},
		#{bannian},<if test="bannianActivity!=null and bannianActivity!=''">#{bannianActivity},</if>#{bannianHour},#{bannianGift},
		#{years},<if test="yearActivity!=null and yearActivity!=''">#{yearActivity},</if>#{yearHour},#{yearGift},#{isActivity})
	</insert>
	<!-- 修改价格信息 -->
	<update id="updClassPriceInfo" parameterType="hashmap">
		update classprice set address=#{address},jidu=#{jidu},<if test="jiduActivity!=null and jiduActivity!=''">jiduActivity=#{jiduActivity},</if>jiduHour=#{jiduHour},jiduGift=#{jiduGift},
		bannian=#{bannian},<if test="bannianActivity!=null and bannianActivity!=''">bannianActivity=#{bannianActivity},</if>bannianHour=#{bannianHour},bannianGift=#{bannianGift},
		years=#{years},<if test="yearActivity!=null and yearActivity!=''">yearActivity=#{yearActivity},</if>yearHour=#{yearHour},yearGift=#{yearGift},isActivity=#{isActivity}
		where Id=#{priceId}
	</update>
</mapper>